import{b as I,h as o,a as S,N as m,H as A,r as R,s as U,c as v,i as h,j as p,p as g,U as D,e as O,O as y,n as x,P as F,Q as H,g as L,R as P,S as j,T as k}from"./DiOX1np-.js";function w(s,a,n=!1){o&&S();var e=s,r=null,i=null,u=D,T=n?m:0,l=!1;const N=(c,t=!0)=>{l=!0,b(t,c)},b=(c,t)=>{if(u===(u=c))return;let d=!1;if(o){const E=e.data===A;!!u===E&&(e=R(),U(e),v(!1),d=!0)}u?(r?h(r):t&&(r=p(()=>t(e))),i&&g(i,()=>{i=null})):(i?h(i):t&&(i=p(()=>t(e))),r&&g(r,()=>{r=null})),d&&v(!0)};I(()=>{l=!1,a(N),l||b(null,null)},T),o&&(e=O)}let f=!1,_=Symbol();function C(s,a,n){const e=n[a]??(n[a]={store:null,source:x(void 0),unsubscribe:y});if(e.store!==s&&!(_ in n))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=y;else{var r=!0;e.unsubscribe=F(s,i=>{r?e.source.v=i:j(e.source,i)}),r=!1}return s&&_ in n?H(s):L(e.source)}function M(){const s={};function a(){P(()=>{for(var n in s)s[n].unsubscribe();k(s,_,{enumerable:!1,value:!0})})}return[s,a]}function Q(s){var a=f;try{return f=!1,[s(),f]}finally{f=a}}export{M as a,Q as c,w as i,C as s};
